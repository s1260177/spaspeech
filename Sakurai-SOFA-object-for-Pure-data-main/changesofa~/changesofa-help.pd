#N canvas 471 25 571 755 12;
#X obj 7 7 cnv 15 552 40 empty \$0-pddp.cnv.header changesofa~ 3 12
0 18 -204280 -1 0;
#X obj 226 241 vsl 15 100 0 359 0 0 empty empty SpeakerAzimuth 0 -9
0 10 -262130 -1 -1 0 1;
#X floatatom 226 353 5 0 0 1 deg - -;
#X obj 21 227 openpanel;
#X obj 21 206 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 21 250 read -resize \$1 soundfile;
#X obj 21 275 soundfiler;
#N canvas 0 22 450 278 (subpatch) 0;
#X array soundfile 233873 float 2;
#X coords 0 1 233873 -1 200 70 1 0 0;
#X restore 339 428 graph;
#X obj 23 374 tabplay~ soundfile;
#X obj 23 325 bng 15 250 50 0 empty \$0-EOF empty 17 7 0 10 -262144
-1 -1;
#X msg 45 348 stop;
#X obj 287 499 *~;
#X obj 241 500 *~;
#X floatatom 14 451 5 0 0 0 - - -;
#X obj 5 571 cnv 3 550 3 empty \$0-pddp.cnv.inlets inlets 8 12 0 13
-228856 -1 0;
#X obj 5 648 cnv 3 550 3 empty \$0-pddp.cnv.outlets outlets 8 12 0
13 -228856 -1 0;
#X obj 83 580 cnv 17 3 17 empty \$0-pddp.cnv.let.0 0 5 9 0 16 -228856
-162280 0;
#X obj 83 657 cnv 17 3 17 empty \$0-pddp.cnv.let.0 0 5 9 0 16 -228856
-162280 0;
#X obj 83 602 cnv 17 3 17 empty \$0-pddp.cnv.let.1 1 5 9 0 16 -228856
-162280 0;
#X text 103 601 float;
#X text 103 656 signal;
#X obj 84 677 cnv 17 3 17 empty \$0-pddp.cnv.let.0 1 5 9 0 16 -228856
-162280 0;
#X text 104 676 signal;
#X text 103 579 symbol and signal;
#X text 172 656 - convolved signal for the left channel;
#X text 173 675 - convolved signal for the right channel;
#X obj 138 398 bng 15 250 50 0 \$0-EOF empty empty 17 7 0 10 -262144
-1 -1;
#X obj 51 425 hsl 64 15 0 1 0 0 empty empty level -2 -8 0 10 -262144
-1 -1 0 1;
#X text 45 194 1) Select audio file;
#X msg 124 507 \; pd dsp 1;
#X obj 57 453 moses 0;
#X msg 52 507 \; pd dsp 0;
#X obj 327 241 vsl 15 100 0 359 0 0 empty empty SpeakerOrientation
0 -9 0 10 -203904 -1 -1 0 1;
#X floatatom 327 353 5 0 0 1 deg - -;
#X obj 84 623 cnv 17 3 17 empty \$0-pddp.cnv.let.1 2 5 9 0 16 -228856
-162280 0;
#X text 104 623 float;
#X text 13 302 2) play;
#X text 223 194 3) Adjust coordinates;
#X obj 241 536 dac~ 2 1;
#X obj 241 464 changesofa~;
#X text 19 30 Frequency-based convolution filter for SOFA HRIRs;
#X text 225 580 - signal;
#X text 141 601 - azimuth (0..359 deg.);
#X text 142 623 - speaker_azimuth (0..360 deg.);
#X text 17 52 [changesofa~] outputs the convolution of a monaural signal
(first inlet) with the HRIR measurements from a SOFA file (first inlet
\, too) \, depending on the azimuth of the loudspeakers (second inlets).
NOTE: Make sure that the SOFA file and Pd have the same sampling rate
Global Coordinates The listener is located at the center of the circle
and the speaker is located around it. The orientation of the speaker
is 0ยบ in front and 90ยบ to the left. For more information \, please
refer to the image on the following website https://www.sofaconventions.org/mediawiki/index.php/File:SimpleFreeFieldHRIR-0.3.png
, f 76;
#X text 80 699 *[dac~ 2 1] is that the output is reversed on the use
of SOFA.;
#X text 440 146;
#X connect 1 0 2 0;
#X connect 2 0 39 1;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 8 0 39 0;
#X connect 8 1 26 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 38 1;
#X connect 12 0 38 0;
#X connect 13 0 11 1;
#X connect 13 0 12 1;
#X connect 27 0 13 0;
#X connect 27 0 30 0;
#X connect 30 0 31 0;
#X connect 30 1 29 0;
#X connect 32 0 33 0;
#X connect 33 0 39 2;
#X connect 39 0 12 0;
#X connect 39 1 11 0;
